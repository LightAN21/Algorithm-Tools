<head>
    <title>Moving Extremum</title>
</head>

<body>
    <h3>Moving Extremum(Sliding Window Extremum)</h3>
    <p>Given an integer array and a positive integer k, find the extremum for every contiguous subarray of size k.</p>
    <p>Input number array(seperated by spaces):</p>
    <input id="input_array" style="text-align:left; width:500px;" type="text" value="3 5 1 6 3 10 5 3 6 2 4 2 5"><br>
    <p>Sliding window size:</p>
    <input id="window_size" style="text-align:left; width:100px;" maxlength="5" type="text" value="4"><br>
    <br>
    <button onclick="get_moving_extremum()">Generate moving min-max array</button>
    <p>Results:</p>
    <p id="msg"></p>
    <p>Moving maximum:</p>
    <p id="res_max"></p>
    <p>Moving minimum:</p>
    <p id="res_min"></p>

    <script src="moving_extremum.js"></script>
    <script>
        function get_moving_extremum() {
            var arr = document.getElementById("input_array").value.split(/\s+/).map(Number);
            var win_size = Number(document.getElementById("window_size").value);
            var res = moving_extremum_algorithm(arr, win_size);

            show_result(res);
            debug(arr, win_size, res);
        }

        function show_result(res) {
            var msg = document.getElementById("msg");
            var res_max = document.getElementById("res_max");
            var res_min = document.getElementById("res_min");

            msg.innerHTML = "";
            if (res == 0) {
                msg.innerHTML = "Error! Sliding window size should be bigger than 0.";
                res_max.innerHTML = "";
                res_min.innerHTML = "";
                return;
            }
            res_max.innerHTML = '[' + (res.max).join(', ') + ']';
            res_min.innerHTML = '[' + (res.min).join(', ') + ']';
        }

        function debug(arr, win_size, res) {
            console.log("Input array:");
            console.log(arr);
            console.log("Input window size: " + win_size);
            console.log('');
            console.log("Result:");
            console.log(res);
            console.log('----------------------------------------');
        }
    </script>
</body>